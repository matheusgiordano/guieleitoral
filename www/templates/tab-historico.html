<ion-view view-title="Histórico">
  <ion-content class="padding" style="background-color: #e6e6e6;" id="historico-content">
  	<center>
  	  <b>Atenção:</b> Alterações nas opiniões dos candidatos, não serão registradas nos históricos anteriores.
  	</center>
    <ion-list>
    <ion-item-group ng-repeat="data in historicos_datas" id="grupo-data-historico">
    <div id="box-historico">
      <div id="box-historico-divider">
      	<b><h4>{{data.data_historico}}</h4></b>
      </div>
  	</div>
  	<div ng-repeat="historico in historicos" ng-if="data.data_historico === historico.data_historico" id="box-historico">
  	  <div id="icone-remover-historico">
  	  	<a class="button button-icon icon ion-close" ng-click="remover_historico({{historico.id}})"></a>
  	  </div>
  	  <div id="img-estado-historico">
  	    <img ng-src="img/estados/{{historico.estado.toLowerCase()}}.png">
  	  </div>
  	  <div id="conteudo-historico">
  	    <b>Cargo: </b>{{historico.descricao_cargo}}<br/>
        <b>Estado: </b>{{historico.estado_nome}}
        <div ng-if="historico[0].score > 0">
  	      <b>Max Score: </b> <b style="color: orange;">{{historico[0].score}}0%</b>
  	    </div>
  	  </div>
  	  <br/><br/>
  	  <div id="opcoes-historico" ng-if="historico[0].score > 0">
  	  	<a class="button button-outline button-balanced icon ion-search" ng-click="resultados_historico({{historico.id}},{{historico[0].score}},{{historico[1].score}},{{historico[2].score}},{{historico[3].score}},{{historico[4].score}},{{historico[0].id_candidato}},{{historico[1].id_candidato}},{{historico[2].id_candidato}},{{historico[3].id_candidato}},{{historico[4].id_candidato}})">&nbsp;Resultados</a>
  	  	<br/>
  	  	<a class="button button-outline button-balanced icon ion-android-checkbox-outline" ng-click="respostas_historico({{historico.id}},{{historico.cargo}})">&nbsp;Minhas respostas</a>
  	  	<br/>
  	  </div>
  	  <div id="opcoes-historico" ng-if="historico[0].score == 'undefined'">
  	  	<b style="color: red;">Nenhum candidato compatível.</b>
	    <br/>
  	  	<a class="button button-outline button-balanced icon ion-android-checkbox-outline" ng-click="respostas_historico({{historico.id}},{{historico.cargo}})">&nbsp;Minhas respostas</a>
  	  	<br/>
  	  </div>


  	  <div id="box-respostas-{{historico.id}}" class="box-respostas">
  	  	<div id="loading-gif">
  	  	  <img ng-src="img/loading.gif" />
  	  	</div>
  	  	<div id="tabela-respostas-usuario">
  	  	<div id="header-historico-respostas">
  	  		<div id="alternativas-historico" style="border: 0px;">
    	  	  &nbsp;
  	  		</div>
  	  		<div id="alternativas-historico">
  	  		  <b>Sim</b>
  	  		</div>
  	  		<div id="alternativas-historico">
  	  		  <b>Não</b>
  	  		</div>
            <div id="alternativas-historico">
              <b>Sem posição</b>
  	  		</div>
  	  	</div>
  	  	<div ng-repeat="x in respostas_usuario">
  	  	  <div id="perguntas-historico">
  	  	  	<div id="lupa-detalhes-pergunta"><img ng-src="img/lupa.png" ng-click="popup_pergunta(perguntas[$index], $index)"></div>
  	  	    <b>{{$index + 1}}</b>
  	  	  </div>
  	  	  <div id="respostas-historico">
  	  	  	<div ng-if="x.resposta == 1"><a class="button button-icon icon ion-checkmark" style="color: #33cd5f !important;"></a></div>
  	  	  </div>
  	  	  <div id="respostas-historico">
  	  	    <div ng-if="x.resposta == 0"><a class="button button-icon icon ion-checkmark" style="color: #33cd5f !important;"></a></div>
  	  	  </div>
  	  	  <div id="respostas-historico">
  	  	    <div ng-if="x.resposta == 2"><a class="button button-icon icon ion-checkmark" style="color: #33cd5f !important;"></a></div>
  	  	  </div>
  	  	</div>
  	  	</div>
  	  </div>
  	  <br/>
  	</div>
    </ion-item-group>
    </ion-list>
   </ion-content>
</ion-view>
